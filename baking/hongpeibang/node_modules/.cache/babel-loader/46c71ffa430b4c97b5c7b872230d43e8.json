{"ast":null,"code":"module.exports = function (THREE) {\n  /**\n   * @author felixturner / http://airtight.cc/\n   *\n   * Kaleidoscope Shader\n   * Radial reflection around center point\n   * Ported from: http://pixelshaders.com/editor/\n   * by Toby Schachman / http://tobyschachman.com/\n   *\n   * sides: number of reflections\n   * angle: initial angle in radians\n   */\n  THREE.KaleidoShader = {\n    uniforms: {\n      \"tDiffuse\": {\n        type: \"t\",\n        value: null\n      },\n      \"sides\": {\n        type: \"f\",\n        value: 6.0\n      },\n      \"angle\": {\n        type: \"f\",\n        value: 0.0\n      }\n    },\n    vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n    fragmentShader: [\"uniform sampler2D tDiffuse;\", \"uniform float sides;\", \"uniform float angle;\", \"varying vec2 vUv;\", \"void main() {\", \"vec2 p = vUv - 0.5;\", \"float r = length(p);\", \"float a = atan(p.y, p.x) + angle;\", \"float tau = 2. * 3.1416 ;\", \"a = mod(a, tau/sides);\", \"a = abs(a - tau/sides/2.) ;\", \"p = r * vec2(cos(a), sin(a));\", \"vec4 color = texture2D(tDiffuse, p + 0.5);\", \"gl_FragColor = color;\", \"}\"].join(\"\\n\")\n  };\n};","map":{"version":3,"sources":["E:/baking/hongpeibang/node_modules/three-js/addons/KaleidoShader.js"],"names":["module","exports","THREE","KaleidoShader","uniforms","type","value","vertexShader","join","fragmentShader"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AACjC;;;;;;;;;;;AAYAA,EAAAA,KAAK,CAACC,aAAN,GAAsB;AAErBC,IAAAA,QAAQ,EAAE;AAET,kBAAY;AAAEC,QAAAA,IAAI,EAAE,GAAR;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAFH;AAGT,eAAY;AAAED,QAAAA,IAAI,EAAE,GAAR;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAHH;AAIT,eAAY;AAAED,QAAAA,IAAI,EAAE,GAAR;AAAaC,QAAAA,KAAK,EAAE;AAApB;AAJH,KAFW;AAUrBC,IAAAA,YAAY,EAAE,CAEb,mBAFa,EAIb,eAJa,EAMZ,WANY,EAOZ,2EAPY,EASb,GATa,EAWZC,IAXY,CAWN,IAXM,CAVO;AAuBrBC,IAAAA,cAAc,EAAE,CAEf,6BAFe,EAGf,sBAHe,EAIf,sBAJe,EAMf,mBANe,EAQf,eARe,EAUd,qBAVc,EAWd,sBAXc,EAYd,mCAZc,EAad,2BAbc,EAcd,wBAdc,EAed,6BAfc,EAgBd,+BAhBc,EAiBd,4CAjBc,EAkBd,uBAlBc,EAoBf,GApBe,EAsBdD,IAtBc,CAsBR,IAtBQ;AAvBK,GAAtB;AAiDA,CA9DD","sourcesContent":["module.exports = function( THREE ){\n\t/**\n\t * @author felixturner / http://airtight.cc/\n\t *\n\t * Kaleidoscope Shader\n\t * Radial reflection around center point\n\t * Ported from: http://pixelshaders.com/editor/\n\t * by Toby Schachman / http://tobyschachman.com/\n\t *\n\t * sides: number of reflections\n\t * angle: initial angle in radians\n\t */\n\n\tTHREE.KaleidoShader = {\n\n\t\tuniforms: {\n\n\t\t\t\"tDiffuse\": { type: \"t\", value: null },\n\t\t\t\"sides\":    { type: \"f\", value: 6.0 },\n\t\t\t\"angle\":    { type: \"f\", value: 0.0 }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"vUv = uv;\",\n\t\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tDiffuse;\",\n\t\t\t\"uniform float sides;\",\n\t\t\t\"uniform float angle;\",\n\t\t\t\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"vec2 p = vUv - 0.5;\",\n\t\t\t\t\"float r = length(p);\",\n\t\t\t\t\"float a = atan(p.y, p.x) + angle;\",\n\t\t\t\t\"float tau = 2. * 3.1416 ;\",\n\t\t\t\t\"a = mod(a, tau/sides);\",\n\t\t\t\t\"a = abs(a - tau/sides/2.) ;\",\n\t\t\t\t\"p = r * vec2(cos(a), sin(a));\",\n\t\t\t\t\"vec4 color = texture2D(tDiffuse, p + 0.5);\",\n\t\t\t\t\"gl_FragColor = color;\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" )\n\n\t};\n\n}\n"]},"metadata":{},"sourceType":"script"}