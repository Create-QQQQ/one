{"ast":null,"code":"module.exports = function (THREE) {\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n  THREE.OBJLoader = function (manager) {\n    this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;\n    this.materials = null;\n  };\n\n  THREE.OBJLoader.prototype = {\n    constructor: THREE.OBJLoader,\n    load: function (url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new THREE.XHRLoader(scope.manager);\n      loader.setPath(this.path);\n      loader.load(url, function (text) {\n        onLoad(scope.parse(text));\n      }, onProgress, onError);\n    },\n    setPath: function (value) {\n      this.path = value;\n    },\n    setMaterials: function (materials) {\n      this.materials = materials;\n    },\n    parse: function (text) {\n      console.time('OBJLoader');\n      var objects = [];\n      var object;\n      var foundObjects = false;\n      var vertices = [];\n      var normals = [];\n      var uvs = [];\n\n      function addObject(name) {\n        var geometry = {\n          vertices: [],\n          normals: [],\n          uvs: []\n        };\n        var material = {\n          name: '',\n          smooth: true\n        };\n        object = {\n          name: name,\n          geometry: geometry,\n          material: material\n        };\n        objects.push(object);\n      }\n\n      function parseVertexIndex(value) {\n        var index = parseInt(value);\n        return (index >= 0 ? index - 1 : index + vertices.length / 3) * 3;\n      }\n\n      function parseNormalIndex(value) {\n        var index = parseInt(value);\n        return (index >= 0 ? index - 1 : index + normals.length / 3) * 3;\n      }\n\n      function parseUVIndex(value) {\n        var index = parseInt(value);\n        return (index >= 0 ? index - 1 : index + uvs.length / 2) * 2;\n      }\n\n      function addVertex(a, b, c) {\n        object.geometry.vertices.push(vertices[a], vertices[a + 1], vertices[a + 2], vertices[b], vertices[b + 1], vertices[b + 2], vertices[c], vertices[c + 1], vertices[c + 2]);\n      }\n\n      function addNormal(a, b, c) {\n        object.geometry.normals.push(normals[a], normals[a + 1], normals[a + 2], normals[b], normals[b + 1], normals[b + 2], normals[c], normals[c + 1], normals[c + 2]);\n      }\n\n      function addUV(a, b, c) {\n        object.geometry.uvs.push(uvs[a], uvs[a + 1], uvs[b], uvs[b + 1], uvs[c], uvs[c + 1]);\n      }\n\n      function addFace(a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {\n        var ia = parseVertexIndex(a);\n        var ib = parseVertexIndex(b);\n        var ic = parseVertexIndex(c);\n        var id;\n\n        if (d === undefined) {\n          addVertex(ia, ib, ic);\n        } else {\n          id = parseVertexIndex(d);\n          addVertex(ia, ib, id);\n          addVertex(ib, ic, id);\n        }\n\n        if (ua !== undefined) {\n          ia = parseUVIndex(ua);\n          ib = parseUVIndex(ub);\n          ic = parseUVIndex(uc);\n\n          if (d === undefined) {\n            addUV(ia, ib, ic);\n          } else {\n            id = parseUVIndex(ud);\n            addUV(ia, ib, id);\n            addUV(ib, ic, id);\n          }\n        }\n\n        if (na !== undefined) {\n          ia = parseNormalIndex(na);\n          ib = parseNormalIndex(nb);\n          ic = parseNormalIndex(nc);\n\n          if (d === undefined) {\n            addNormal(ia, ib, ic);\n          } else {\n            id = parseNormalIndex(nd);\n            addNormal(ia, ib, id);\n            addNormal(ib, ic, id);\n          }\n        }\n      }\n\n      addObject(''); // v float float float\n\n      var vertex_pattern = /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/; // vn float float float\n\n      var normal_pattern = /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/; // vt float float\n\n      var uv_pattern = /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/; // f vertex vertex vertex ...\n\n      var face_pattern1 = /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/; // f vertex/uv vertex/uv vertex/uv ...\n\n      var face_pattern2 = /^f\\s+((-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+))(?:\\s+((-?\\d+)\\/(-?\\d+)))?/; // f vertex/uv/normal vertex/uv/normal vertex/uv/normal ...\n\n      var face_pattern3 = /^f\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+))(?:\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+)))?/; // f vertex//normal vertex//normal vertex//normal ...\n\n      var face_pattern4 = /^f\\s+((-?\\d+)\\/\\/(-?\\d+))\\s+((-?\\d+)\\/\\/(-?\\d+))\\s+((-?\\d+)\\/\\/(-?\\d+))(?:\\s+((-?\\d+)\\/\\/(-?\\d+)))?/;\n      var object_pattern = /^[og]\\s+(.+)/;\n      var smoothing_pattern = /^s\\s+(\\d+|on|off)/; //\n\n      var lines = text.split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        line = line.trim();\n        var result;\n\n        if (line.length === 0 || line.charAt(0) === '#') {\n          continue;\n        } else if ((result = vertex_pattern.exec(line)) !== null) {\n          // [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n          vertices.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n        } else if ((result = normal_pattern.exec(line)) !== null) {\n          // [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n          normals.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n        } else if ((result = uv_pattern.exec(line)) !== null) {\n          // [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\n          uvs.push(parseFloat(result[1]), parseFloat(result[2]));\n        } else if ((result = face_pattern1.exec(line)) !== null) {\n          // [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n          addFace(result[1], result[2], result[3], result[4]);\n        } else if ((result = face_pattern2.exec(line)) !== null) {\n          // [\"f 1/1 2/2 3/3\", \" 1/1\", \"1\", \"1\", \" 2/2\", \"2\", \"2\", \" 3/3\", \"3\", \"3\", undefined, undefined, undefined]\n          addFace(result[2], result[5], result[8], result[11], result[3], result[6], result[9], result[12]);\n        } else if ((result = face_pattern3.exec(line)) !== null) {\n          // [\"f 1/1/1 2/2/2 3/3/3\", \" 1/1/1\", \"1\", \"1\", \"1\", \" 2/2/2\", \"2\", \"2\", \"2\", \" 3/3/3\", \"3\", \"3\", \"3\", undefined, undefined, undefined, undefined]\n          addFace(result[2], result[6], result[10], result[14], result[3], result[7], result[11], result[15], result[4], result[8], result[12], result[16]);\n        } else if ((result = face_pattern4.exec(line)) !== null) {\n          // [\"f 1//1 2//2 3//3\", \" 1//1\", \"1\", \"1\", \" 2//2\", \"2\", \"2\", \" 3//3\", \"3\", \"3\", undefined, undefined, undefined]\n          addFace(result[2], result[5], result[8], result[11], undefined, undefined, undefined, undefined, result[3], result[6], result[9], result[12]);\n        } else if ((result = object_pattern.exec(line)) !== null) {\n          // o object_name\n          // or\n          // g group_name\n          var name = result[1].trim();\n\n          if (foundObjects === false) {\n            foundObjects = true;\n            object.name = name;\n          } else {\n            addObject(name);\n          }\n        } else if (/^usemtl /.test(line)) {\n          // material\n          object.material.name = line.substring(7).trim();\n        } else if (/^mtllib /.test(line)) {// mtl file\n        } else if ((result = smoothing_pattern.exec(line)) !== null) {\n          // smooth shading\n          object.material.smooth = result[1] === \"1\" || result[1] === \"on\";\n        } else {\n          throw new Error(\"Unexpected line: \" + line);\n        }\n      }\n\n      var container = new THREE.Group();\n\n      for (var i = 0, l = objects.length; i < l; i++) {\n        object = objects[i];\n        var geometry = object.geometry;\n        var buffergeometry = new THREE.BufferGeometry();\n        buffergeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(geometry.vertices), 3));\n\n        if (geometry.normals.length > 0) {\n          buffergeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(geometry.normals), 3));\n        } else {\n          buffergeometry.computeVertexNormals();\n        }\n\n        if (geometry.uvs.length > 0) {\n          buffergeometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(geometry.uvs), 2));\n        }\n\n        var material;\n\n        if (this.materials !== null) {\n          material = this.materials.create(object.material.name);\n        }\n\n        if (!material) {\n          material = new THREE.MeshPhongMaterial();\n          material.name = object.material.name;\n        }\n\n        material.shading = object.material.smooth ? THREE.SmoothShading : THREE.FlatShading;\n        var mesh = new THREE.Mesh(buffergeometry, material);\n        mesh.name = object.name;\n        container.add(mesh);\n      }\n\n      console.timeEnd('OBJLoader');\n      return container;\n    }\n  };\n};","map":{"version":3,"sources":["E:/baking/hongpeibang/node_modules/three-js/addons/OBJLoader.js"],"names":["module","exports","THREE","OBJLoader","manager","undefined","DefaultLoadingManager","materials","prototype","constructor","load","url","onLoad","onProgress","onError","scope","loader","XHRLoader","setPath","path","text","parse","value","setMaterials","console","time","objects","object","foundObjects","vertices","normals","uvs","addObject","name","geometry","material","smooth","push","parseVertexIndex","index","parseInt","length","parseNormalIndex","parseUVIndex","addVertex","a","b","c","addNormal","addUV","addFace","d","ua","ub","uc","ud","na","nb","nc","nd","ia","ib","ic","id","vertex_pattern","normal_pattern","uv_pattern","face_pattern1","face_pattern2","face_pattern3","face_pattern4","object_pattern","smoothing_pattern","lines","split","i","line","trim","result","charAt","exec","parseFloat","test","substring","Error","container","Group","l","buffergeometry","BufferGeometry","addAttribute","BufferAttribute","Float32Array","computeVertexNormals","create","MeshPhongMaterial","shading","SmoothShading","FlatShading","mesh","Mesh","add","timeEnd"],"mappings":"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","sourcesContent":["module.exports = function( THREE ){\n\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\n\tTHREE.OBJLoader = function ( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t\tthis.materials = null;\n\n\t};\n\n\tTHREE.OBJLoader.prototype = {\n\n\t\tconstructor: THREE.OBJLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar loader = new THREE.XHRLoader( scope.manager );\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.load( url, function ( text ) {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\n\t\t},\n\n\t\tsetMaterials: function ( materials ) {\n\n\t\t\tthis.materials = materials;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tconsole.time( 'OBJLoader' );\n\n\t\t\tvar objects = [];\n\t\t\tvar object;\n\t\t\tvar foundObjects = false;\n\t\t\tvar vertices = [];\n\t\t\tvar normals = [];\n\t\t\tvar uvs = [];\n\n\t\t\tfunction addObject( name ) {\n\n\t\t\t\tvar geometry = {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tuvs: []\n\t\t\t\t};\n\n\t\t\t\tvar material = {\n\t\t\t\t\tname: '',\n\t\t\t\t\tsmooth: true\n\t\t\t\t};\n\n\t\t\t\tobject = {\n\t\t\t\t\tname: name,\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\tmaterial: material\n\t\t\t\t};\n\n\t\t\t\tobjects.push( object );\n\n\t\t\t}\n\n\t\t\tfunction parseVertexIndex( value ) {\n\n\t\t\t\tvar index = parseInt( value );\n\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + vertices.length / 3 ) * 3;\n\n\t\t\t}\n\n\t\t\tfunction parseNormalIndex( value ) {\n\n\t\t\t\tvar index = parseInt( value );\n\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + normals.length / 3 ) * 3;\n\n\t\t\t}\n\n\t\t\tfunction parseUVIndex( value ) {\n\n\t\t\t\tvar index = parseInt( value );\n\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + uvs.length / 2 ) * 2;\n\n\t\t\t}\n\n\t\t\tfunction addVertex( a, b, c ) {\n\n\t\t\t\tobject.geometry.vertices.push(\n\t\t\t\t\tvertices[ a ], vertices[ a + 1 ], vertices[ a + 2 ],\n\t\t\t\t\tvertices[ b ], vertices[ b + 1 ], vertices[ b + 2 ],\n\t\t\t\t\tvertices[ c ], vertices[ c + 1 ], vertices[ c + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tfunction addNormal( a, b, c ) {\n\n\t\t\t\tobject.geometry.normals.push(\n\t\t\t\t\tnormals[ a ], normals[ a + 1 ], normals[ a + 2 ],\n\t\t\t\t\tnormals[ b ], normals[ b + 1 ], normals[ b + 2 ],\n\t\t\t\t\tnormals[ c ], normals[ c + 1 ], normals[ c + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tfunction addUV( a, b, c ) {\n\n\t\t\t\tobject.geometry.uvs.push(\n\t\t\t\t\tuvs[ a ], uvs[ a + 1 ],\n\t\t\t\t\tuvs[ b ], uvs[ b + 1 ],\n\t\t\t\t\tuvs[ c ], uvs[ c + 1 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tfunction addFace( a, b, c, d,  ua, ub, uc, ud, na, nb, nc, nd ) {\n\n\t\t\t\tvar ia = parseVertexIndex( a );\n\t\t\t\tvar ib = parseVertexIndex( b );\n\t\t\t\tvar ic = parseVertexIndex( c );\n\t\t\t\tvar id;\n\n\t\t\t\tif ( d === undefined ) {\n\n\t\t\t\t\taddVertex( ia, ib, ic );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tid = parseVertexIndex( d );\n\n\t\t\t\t\taddVertex( ia, ib, id );\n\t\t\t\t\taddVertex( ib, ic, id );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ua !== undefined ) {\n\n\t\t\t\t\tia = parseUVIndex( ua );\n\t\t\t\t\tib = parseUVIndex( ub );\n\t\t\t\t\tic = parseUVIndex( uc );\n\n\t\t\t\t\tif ( d === undefined ) {\n\n\t\t\t\t\t\taddUV( ia, ib, ic );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tid = parseUVIndex( ud );\n\n\t\t\t\t\t\taddUV( ia, ib, id );\n\t\t\t\t\t\taddUV( ib, ic, id );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( na !== undefined ) {\n\n\t\t\t\t\tia = parseNormalIndex( na );\n\t\t\t\t\tib = parseNormalIndex( nb );\n\t\t\t\t\tic = parseNormalIndex( nc );\n\n\t\t\t\t\tif ( d === undefined ) {\n\n\t\t\t\t\t\taddNormal( ia, ib, ic );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tid = parseNormalIndex( nd );\n\n\t\t\t\t\t\taddNormal( ia, ib, id );\n\t\t\t\t\t\taddNormal( ib, ic, id );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\taddObject( '' );\n\n\t\t\t// v float float float\n\t\t\tvar vertex_pattern = /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/;\n\n\t\t\t// vn float float float\n\t\t\tvar normal_pattern = /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/;\n\n\t\t\t// vt float float\n\t\t\tvar uv_pattern = /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/;\n\n\t\t\t// f vertex vertex vertex ...\n\t\t\tvar face_pattern1 = /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/;\n\n\t\t\t// f vertex/uv vertex/uv vertex/uv ...\n\t\t\tvar face_pattern2 = /^f\\s+((-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+))(?:\\s+((-?\\d+)\\/(-?\\d+)))?/;\n\n\t\t\t// f vertex/uv/normal vertex/uv/normal vertex/uv/normal ...\n\t\t\tvar face_pattern3 = /^f\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+))\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+))(?:\\s+((-?\\d+)\\/(-?\\d+)\\/(-?\\d+)))?/;\n\n\t\t\t// f vertex//normal vertex//normal vertex//normal ...\n\t\t\tvar face_pattern4 = /^f\\s+((-?\\d+)\\/\\/(-?\\d+))\\s+((-?\\d+)\\/\\/(-?\\d+))\\s+((-?\\d+)\\/\\/(-?\\d+))(?:\\s+((-?\\d+)\\/\\/(-?\\d+)))?/;\n\n\t\t\tvar object_pattern = /^[og]\\s+(.+)/;\n\n\t\t\tvar smoothing_pattern = /^s\\s+(\\d+|on|off)/;\n\n\t\t\t//\n\n\t\t\tvar lines = text.split( '\\n' );\n\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tvar line = lines[ i ];\n\t\t\t\tline = line.trim();\n\n\t\t\t\tvar result;\n\n\t\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t} else if ( ( result = vertex_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n\t\t\t\t\tvertices.push(\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\n\t\t\t\t\t\tparseFloat( result[ 2 ] ),\n\t\t\t\t\t\tparseFloat( result[ 3 ] )\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = normal_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n\t\t\t\t\tnormals.push(\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\n\t\t\t\t\t\tparseFloat( result[ 2 ] ),\n\t\t\t\t\t\tparseFloat( result[ 3 ] )\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = uv_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\n\n\t\t\t\t\tuvs.push(\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\n\t\t\t\t\t\tparseFloat( result[ 2 ] )\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = face_pattern1.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n\n\t\t\t\t\taddFace(\n\t\t\t\t\t\tresult[ 1 ], result[ 2 ], result[ 3 ], result[ 4 ]\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = face_pattern2.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"f 1/1 2/2 3/3\", \" 1/1\", \"1\", \"1\", \" 2/2\", \"2\", \"2\", \" 3/3\", \"3\", \"3\", undefined, undefined, undefined]\n\n\t\t\t\t\taddFace(\n\t\t\t\t\t\tresult[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ],\n\t\t\t\t\t\tresult[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ]\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = face_pattern3.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"f 1/1/1 2/2/2 3/3/3\", \" 1/1/1\", \"1\", \"1\", \"1\", \" 2/2/2\", \"2\", \"2\", \"2\", \" 3/3/3\", \"3\", \"3\", \"3\", undefined, undefined, undefined, undefined]\n\n\t\t\t\t\taddFace(\n\t\t\t\t\t\tresult[ 2 ], result[ 6 ], result[ 10 ], result[ 14 ],\n\t\t\t\t\t\tresult[ 3 ], result[ 7 ], result[ 11 ], result[ 15 ],\n\t\t\t\t\t\tresult[ 4 ], result[ 8 ], result[ 12 ], result[ 16 ]\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = face_pattern4.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// [\"f 1//1 2//2 3//3\", \" 1//1\", \"1\", \"1\", \" 2//2\", \"2\", \"2\", \" 3//3\", \"3\", \"3\", undefined, undefined, undefined]\n\n\t\t\t\t\taddFace(\n\t\t\t\t\t\tresult[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ],\n\t\t\t\t\t\tundefined, undefined, undefined, undefined,\n\t\t\t\t\t\tresult[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ]\n\t\t\t\t\t);\n\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// o object_name\n\t\t\t\t\t// or\n\t\t\t\t\t// g group_name\n\n\t\t\t\t\tvar name = result[ 1 ].trim();\n\n\t\t\t\t\tif ( foundObjects === false ) {\n\n\t\t\t\t\t\tfoundObjects = true;\n\t\t\t\t\t\tobject.name = name;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddObject( name );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( /^usemtl /.test( line ) ) {\n\n\t\t\t\t\t// material\n\n\t\t\t\t\tobject.material.name = line.substring( 7 ).trim();\n\n\t\t\t\t} else if ( /^mtllib /.test( line ) ) {\n\n\t\t\t\t\t// mtl file\n\n\t\t\t\t} else if ( ( result = smoothing_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// smooth shading\n\n\t\t\t\t\tobject.material.smooth = result[ 1 ] === \"1\" || result[ 1 ] === \"on\";\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( \"Unexpected line: \" + line );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar container = new THREE.Group();\n\n\t\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\t\tobject = objects[ i ];\n\t\t\t\tvar geometry = object.geometry;\n\n\t\t\t\tvar buffergeometry = new THREE.BufferGeometry();\n\n\t\t\t\tbuffergeometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( geometry.vertices ), 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( geometry.normals ), 3 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.BufferAttribute( new Float32Array( geometry.uvs ), 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\tvar material;\n\n\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\tmaterial = this.materials.create( object.material.name );\n\n\t\t\t\t}\n\n\t\t\t\tif ( !material ) {\n\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\t\t\t\t\tmaterial.name = object.material.name;\n\n\t\t\t\t}\n\n\t\t\t\tmaterial.shading = object.material.smooth ? THREE.SmoothShading : THREE.FlatShading;\n\n\t\t\t\tvar mesh = new THREE.Mesh( buffergeometry, material );\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t\tconsole.timeEnd( 'OBJLoader' );\n\n\t\t\treturn container;\n\n\t\t}\n\n\t};\n\n};"]},"metadata":{},"sourceType":"script"}